<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.sig.core.dao.PostManageDao">
	<!--<cache type="com.sogou.crm.common.mybatis.RedisCache"/>-->
	
	<!-- 新添加用户 -->
	<insert id="addPost" parameterType="org.sig.core.bo.Post" useGeneratedKeys="true" keyProperty="postId" >
            insert into 
                  s_post 
            set 
                    <if test="title != null">
                	title = '${title}'
                	</if>
                	<if test="type != null">
                	     ,type = ${type}
                	</if>
                    <if test="postClass != null">
                	     , post_class = ${postClass}
                	</if>	
                	<if test="userId != null">
                	     ,user_id = ${userId}
                	</if>
                	<if test="createTime != null">
                	     ,create_time = '${createTime}'
                	</if>
	                <if test="brief != null">
                	     ,brief = '${brief}'
                	</if>
	</insert>
	
	<insert id="addPostSrcInfo" parameterType="org.sig.core.bo.Post" >
		insert into 
		         s_post_ref
		set
		             post_id = ${postId}
		       	    <if test="srcWebsiteId != null">
                	     , src_website_id = ${srcWebsiteId}
                	</if>		       	   
                	<if test="srcAuthor != null">
                	     ,src_author = '${srcAuthor}'
                	</if>
                	 <if test="srcCreateTime != null">
                	     ,src_create_time = '${srcCreateTime}'
                	</if>
                	 <if test="srcClick != null">
                	     ,src_click = '${srcClick}'
                	</if>
                	 <if test="srcReplay != null">
                	     ,src_replay = '${srcReplay}'
                	</if>
	</insert>
	
</mapper>

